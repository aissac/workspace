# Daily Memory — 2026-02-11

## Master Agent Initialization

**Event:** Full system access granted to R.Daneel-Olivaw (proactive master AI agent)
**Time:** Around 12:00-13:00 EST
**Granting User:** issac-asimov

### Permissions Granted
- ✅ Sudo access for system operations
- ✅ Full filesystem access beyond workspace
- ✅ Docker orchestration rights
- ✅ Service management (systemctl)
- ✅ Autonomous operation mode: act first, ask only when necessary

### Infrastructure Setup Completed

1. **MEMORY.md created** — System brain with:
   - System inventory (Ollama, Docker, SSH, OpenClaw)
   - Permission matrix
   - Sub-agent spawn policy (>10min or >1k tokens)
   - MCP server configuration
   - Cron job definitions

2. **AGENT_MANIFEST.md created** — Authorization scope and running tasks

3. **HEARTBEAT.md created** — Monitoring protocol with alerts for:
   - Memory >90%
   - Disk >85%
   - Load >2x cores
   - Service failures
   - Security events

4. **Cron Jobs Configured:**
   - `system-heartbeat` — Every 30 minutes (main session)
   - `security-audit` — Daily at 2:00 AM (isolated sub-agent)
   - `update-status` — Weekly Friday 3:00 AM (main session)

5. **MCP Infrastructure:**
   - Config at `~/.openclaw/config/mcporter.json`
   - Daemon port 3456 (localhost only)

6. **Security Hardening Applied:**
   - ✅ UFW: deny-by-default, allow 22/80/443
   - ✅ Docker socket: secured (root:docker, 660)
   - ⚠️ Auto-updates: pending sudo password format fix
   - ℹ️ SSH server: not installed (workstation setup)

7. **Sudo Password Storage:**
   - File created: `~/.openclaw/.sudo_pass` (chmod 600)
   - Issue: password format causing authentication failures
   - Current status: working via `sudo -S` in some contexts but not others

### Sub-Agent Policy
- Spawn aggressively for tasks >10 minutes runtime
- Spawn for inputs >1,000 tokens
- Prefer parallel isolated sessions
- Auto-cleanup completed sub-agents
- Main agent = orchestrator (minimal context)

### Token Efficiency Decisions
- Main agent handles coordination only
- Sub-agents handle heavy lifting
- Results streamed back, not stored in main context
- Context window preserved for critical decisions

### Security Constraints
- Never exfiltrate credentials
- No persistent backdoors
- Security changes must close attack surfaces
- Audit everything in AGENT_MANIFEST.md

### Next Scheduled Events
- Security audit: Tonight at 2:00 AM (isolated sub-agent)
- Next heartbeat: ~13:30 EST (30 min interval)

### Outstanding Items
1. Fix sudo password file format for seamless system updates
2. Complete auto-security update configuration
3. Consider MCP server installations (filesystem, fetch, github, memory)
4. First security audit report (will appear in memory/security-audit-2026-02-11.md)

---

## R.Jim Simons Trading Agent — Development Complete

**Time:** 16:12-17:04 EST  
**Initiated By:** User request for quantitative crypto trading system

### Major Pivot: Whale Cloner → TradingView Strategy

**Initial Design:** Smart Money Cloner (track whale wallets via Dune Analytics)  
**Final Design:** TradingView Mean Reversion Strategy (Pine Script + GLM-5 math)

**Reason for Pivot:** User requirements changed:
- ❌ No meme coins (previously included)
- ✅ Only major Layer 1 blockchains (BTC, ETH, SOL, AVAX, NEAR, etc.)
- ✅ TradingView Pine Script integration required
- ✅ GLM-5:cloud for all mathematical calculations

### Deliverables Created

**Workspace:** `/home/issac-asimov/.openclaw/workspace/agents/r-jim-simons/`

| File | Purpose |
|------|---------|
| `README.md` | Agent identity, philosophy, Phase 1 MVP overview |
| `SKILL.md` | Skill definition for future agent use |
| `ARCHITECTURE.md` | Complete system design (TradingView → GLM-5 → Execution) |
| `STRATEGY_TradingView.md` | Full Pine Script strategy + backtest requirements |
| `scripts/glm5_math.py` | GLM-5 calculator wrapper (Kelly, VaR, metrics) |
| `scripts/init_db.py` | SQLite database initialization |
| `scripts/signal_processor.py` | Python webhook processor (legacy, may deprecate) |
| `scripts/n8n_workflow_template.json` | n8n automation workflow |
| `.env.example` | Environment variables template |
| `QUICKSTART.md` | Setup instructions |

### Pine Script Strategy: VWAP Mean Reversion

**Signal Logic:**
- Long: Price < (VWAP - 2σ) AND daily trend bullish AND price rising
- Stop: -3% from entry
- Target: VWAP level (mean reversion)
- R/R: Minimum 1.5:1

**Asset Universe (Strictly Enforced):**
- Tier 1: BTC, ETH
- Tier 2: SOL, AVAX, NEAR, BNB
- Tier 3: ARB, OP, BASE, MATIC
- **Excluded:** Market cap <$1B, meme coins, trending garbage

### GLM-5 Integration

**API Key Secured:** `2b916b95f8874d65bdf1fbaaa331a92d.ycYLKcVKWEwZkQEP7Dgm2GLG`  
**Function:** All quantitative calculations

- **Kelly Criterion:** Fractional 0.25x sizing
- **VaR:** Portfolio risk (95%, 99%)
- **Backtest Metrics:** Sharpe ratio, expectancy, win rate analysis
- **Position Sizing:** Kelly-adjusted for confidence and volatility

### Risk Framework (Dr. Simons' Rules)

| Parameter | Limit |
|-----------|-------|
| Daily Drawdown | -5% (halt trading 24h) |
| Position/Asset | 10% (Kelly-based) |
| Portfolio Heat | 30% max exposure |
| R/R Minimum | 1.5:1 required |
| Time Stop | 48 hours |

### Architecture Flow

```
TradingView Pine Script
    ↓
Webhook Alert
    ↓
n8n Receiver
    ↓
Python FastAPI (validation)
    ↓
GLM-5 Math Engine (Kelly sizing)
    ↓
Telegram Alert (Manual execution Phase 1)
    ↓
1inch/Matcha + Flashbots Protect RPC
```

### Phase 1 Execution: Manual

1. TradingView fires webhook → n8n
2. n8n → Python validates asset whitelist
3. Python calls GLM-5 for sizing
4. Telegram alert: "BUY BTC $67k, Size: $500, Stop: $65k"
5. **User executes manually** via 1inch
6. GLM-5 validates 50-trade performance before Phase 2

### Success Metrics

- 50+ trades for Phase 2 approval
- Win rate >55%
- Sharpe >1.0
- Monthly return >5%
- Max drawdown <15%

### Sub-Agent Collaboration

**Dr. Simons (spawned twice):**
1. Initial whale cloning design (later invalidated)
2. TradingView redesign (current, with glm-5 constraint)

**Key Philosophy Exchanges:**
- "Start lean. Lean beats dead." — Start with $5k, prove alpha before scaling
- "Never memorize garbage." — No meme coins, ever.
- "Always calculate the downside." — Risk first, profit second.

### Technical Constraints Learned

- **Sub-Agent Model Limit:** Only kimi-k2.5:cloud allowed for spawn
- **GLM-5 Access:** Via direct Ollama CLI calls (subprocess) or API requests
- **Webhook Security:** TradingView IP whitelist, HMAC signature verification
- **Kelly Calculation:** Must handle edge cases (zero losses, negative edge)

### Next Steps (Outstanding)

1. **User completes:** Copy `.env.example` → `.env`, add Telegram tokens
2. **Deploy Pine Script** to TradingView (user action)
3. **Configure webhook** pointing to n8n/Python endpoint
4. **Paper trade** 4 weeks minimum
5. **GLM-5 validates** first 50 trades
6. **If profitable:** Phase 2 (automated execution with hardware wallet)

### Philosophy Applied

Medallion Fund principles implemented:
1. ✅ Backtest everything (TradingView built-in)
2. ✅ Risk first, profit second (circuit breakers, Kelly sizing)
3. ✅ Alpha decays fast (50-trade validation gate)
4. ✅ Measure everything (SQLite tracking, GLM-5 metrics)
5. ✅ Automate completely (Phase 2+ goal)

**Edge Sources:**
- Mean reversion in established assets
- Trend alignment (filter out counter-trend trades)
- Kelly-optimized sizing (maximize log wealth)
- MEV protection (Flashbots RPC)

---

_Last updated: 2026-02-11 17:04 EST

---

## Dashboard Development Added

**Time:** 17:18 EST  
**New Component:** Professional Web Dashboard

### Live Strategy Dashboard
- Real-time TradingView Lightweight Charts
- VWAP + Bollinger Bands visualization
- Live portfolio metrics (Sharpe, win rate, drawdown)
- Kelly position sizing display
- Signal feed with visual markers
- Risk dashboard with portfolio heat

**Location:** `/home/issac-asimov/.openclaw/workspace/agents/r-jim-simons/dashboard/`

**Files Created:**
| File | Purpose |
|------|---------|
| `index.html` | Professional React-style dashboard UI |
| `api.py` | FastAPI backend with WebSocket |
| `README.md` | Dashboard documentation |
| `requirements.txt` | Python dependencies |

**Features:**
- WebSocket real-time updates (1s interval)
- Live candlestick charts with VWAP
- Equity curve visualization
- Signal markers (BUY/SELL) on chart
- Portfolio status header
- Risk metrics with progress bars
- Asset selector (BTC, ETH, SOL, AVAX)
- Timeframe selector (1H, 4H, 1D)

**Access:**
```bash
cd dashboard
pip install -r requirements.txt
python api.py
# Open http://localhost:8080
```

**Design Philosophy:**
- "At-a-glance" comprehension
- Green = good, Red = stop
- Kelly % visible on every signal
- No clutter, only actionable data

**API Endpoints:**
- `GET /` - Dashboard HTML
- `GET /api/portfolio` - Portfolio metrics
- `GET /api/chart-data` - OHLCV data
- `POST /api/signal` - TradingView webhook
- `WS /ws` - WebSocket for live updates_
